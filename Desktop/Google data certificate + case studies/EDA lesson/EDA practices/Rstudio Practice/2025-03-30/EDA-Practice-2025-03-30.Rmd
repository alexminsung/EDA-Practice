---
title: "Untitled"
output: pdf_document
date: "2025-03-30"
---

### About Dataset

This dataset contains information on TikTok users' reports of videos and comments that include user claims. These reports flag content for moderator review, generating a significant volume of user reports that need timely attention.

TikTok is developing a predictive model to determine whether a video contains a claim or offers an opinion. A successful prediction model will help reduce the backlog of user reports and enable more efficient prioritization.

This dataset is intended for exploratory data analysis (EDA), statistical analysis, and predictive modeling. It has been created for pedagogical purposes and aims to facilitate learning and research in data analysis and machine learning 

```{r}
library(dplyr)
library(skimr)
library(tidyverse)

#load the data
df <- read.csv("tiktok_dataset.csv") %>% select(-X., -video_id)
```

From the Kaggle website (https://www.kaggle.com/datasets/raminhuseyn/dataset-from-tiktok/data), we can determine the following detail about each variables.

|Column Name 	              |Description
|---------------------------|------------------------------------------------------------------------------------------------------------------|
|claim_status 	            |Indicates whether the video has been reported for containing a claim or opinion (e.g., 'Reported', 'Not Reported')|
|video_id 	                |Unique identifier for each video.                                                                                 |
|video_duration_sec 	      |Duration of the video in seconds.                                                                                 |
|video_transcription_text 	|Transcription of the video's audio content.                                                                       |
|verified_status 	          |Indicates whether the video creator's account is verified (e.g., 'Verified', 'Not Verified').                     |
|author_ban_status 	        |Indicates if the video's author has been banned (e.g., 'Banned', 'Not Banned').                                   |
|video_view_count 	        |Total number of views the video has received.                                                                     |
|video_like_count 	        |Total number of likes the video has received.                                                                     |
|video_share_count 	        |Total number of times the video has been shared.                                                                  |
|video_download_count 	    |Total number of times the video has been downloaded.                                                              |
|video_comment_count 	      |Total number of comments on the video.                                                                            |

```{r}
#let's skim the data
df %>% skim()

#let's determine the number of NA values
# for reference, In R, lapply() and sapply() both allow you to apply a function to each element of a list or vector (or any other iterable object)
sapply(df %>% filter(claim_status == ""), function(x) distinct(data.frame(x))) 
```

Observing the list of videos without a claim does not suggest any particular pattern. It'd be possible to convert empty claim status rows into "opinions" on the basis of insufficient evidence to support it as claim, but most (if not all) of these rows also contain null numeric values which would be difficult to quantify. One possible alternative would be to bootstrap each incomplete numeric columns based on the available data.
However, for simplification, all videos without a claim (i.e., claim = "") will be removed for the time being. 

```{r}
#removing all rows that contains missing claim status
df2 <- df %>% filter(claim_status != "")
```

Now the main objective of the EDA is to determine the difference between videos tagged as either claim or opinion.
Firstly, let's determine the difference between claim or opinions based on the video_transcripts.
Let's observe some differences using plots 

```{r}
library(wordcloud) # For Word Cloud
library(spacyr) #Part-of-Speech tagging package
library(RColorBrewer) # For color palettes

# Initialize spaCy
spacy_initialize()
```

```{r}
#all video transcript tagged as claims in a single vector
claims_text_list <- pivot_longer(df2 %>% filter(claim_status == "claim") %>% select(video_transcription_text), cols = everything())$value

# Parse the text with spaCy
parsed_text_claims <- spacy_parse(claims_text_list)

# Filter for verbs (POS tag = "VERB")
verbs <- parsed_text_claims[parsed_text_claims$pos == "VERB", ]

# Create the word cloud
wordcloud(verbs$token, 
          min.freq = 5,                 # Minimum frequency of words to appear
          max.words = 50,              # Maximum number of words to display
          random.order = FALSE,         # Arrange words by frequency
          colors = brewer.pal(8, "Dark2"))  # Color palette
```

```{r}
#all video transcript tagged as claims in a single vector
opinions_text_list <- pivot_longer(df2 %>% filter(claim_status == "opinion") %>% select(video_transcription_text), cols = everything())$value

# Parse the text with spaCy
parsed_text_opinions <- spacy_parse(opinions_text_list)

# Filter for verbs (POS tag = "VERB")
verbs_op <- parsed_text_opinions[parsed_text_opinions$pos == "VERB", ]

# Create the word cloud
wordcloud(verbs_op$token, 
          min.freq = 5,                 # Minimum frequency of words to appear
          max.words = 50,              # Maximum number of words to display
          random.order = FALSE,         # Arrange words by frequency
          colors = brewer.pal(8, "Dark2"))  # Color palette
```
The point of the word cloud is to show the difference between claims and opinions. For videos tagged as claims, we see more assertive words being used in video transcripts. Vocabulary such as "discovered", "read", "learned", "revealed" are common;implying the knowledge from these videos are to be understood with certain level of certainty. 

On the other hand, videos tagged as opinions use more subjective words such as "think", "believe", "understand", "feel", "say". This implies the videos are likely interpretations rather than confirmed facts. 